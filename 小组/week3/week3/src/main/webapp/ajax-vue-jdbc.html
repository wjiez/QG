<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script src="js/vue.js"></script>
<div id="app">
    <a href="http://localhost:8080/week3/accAdd.html"><input type="button" value="新增"></a><br>
    <table id="accTable" border="1" cellspacing="0" width="100%">
        <tr>
            <th>ID</th>
            <th>账户名称</th>
            <th>账户密码</th>
            <th>城市</th>
        </tr>
        <tr v-for="account in accounts" align="center">
            <td>{{account.accid}}</td>
            <td>{{account.accname}}</td>
            <td>{{account.passWord}}</td>
            <td>{{account.city}}</td>
        </tr>
    </table>
</div>
<script>
    new Vue({
        el: "#app",
        data() {
            return {
                accounts: []
            }
        },
        mounted() {
            var _this = this;
            var xhttp;
            if (window.XMLHttpRequest) {
                xhttp = new XMLHttpRequest();
            } else {
                xhttp = new ActiveXObject("Microsoft.XMLHTTP");
            }
            xhttp.open("GET", "http://localhost:8080/week3/selectAllService");
            xhttp.send();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    _this.accounts = JSON.parse(this.responseText);
                }
            };
        }
    })
    // document.getElementById("selectAll").onclick = function () {
    //     var username = this.value;
    //     var xhttp;
    //     if (window.XMLHttpRequest) {
    //         xhttp = new XMLHttpRequest();
    //     } else {
    //         xhttp = new ActiveXObject("Microsoft.XMLHTTP");
    //     }
    //     xhttp.open("GET", "http://localhost:8080/webTest/selectUserServlet?username=" + username);
    //     xhttp.send();
    //     xhttp.onreadystatechange = function () {
    //         if (this.readyState == 4 && this.status == 200) {
    //
    //
    //         }
    //     };
    // }


</script>
</body>
</html>
